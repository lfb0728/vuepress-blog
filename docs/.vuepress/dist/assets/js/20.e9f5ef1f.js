(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{365:function(t,e,s){"use strict";s.r(e);var i=s(42),n=Object(i.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"git-忽略特殊文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-忽略特殊文件"}},[t._v("#")]),t._v(" Git 忽略特殊文件")]),t._v(" "),s("p",[t._v("有些时候，你必须把某些文件放到Git工作目录中，但又不能提交它们，比如保存了数据库密码的配置文件啦，等等，每次"),s("code",[t._v("git status")]),t._v("都会显示"),s("code",[t._v("Untracked files ...")]),t._v("，有强迫症的童鞋心里肯定不爽。")]),t._v(" "),s("p",[t._v("好在Git考虑到了大家的感受，这个问题解决起来也很简单，在Git工作区的根目录下创建一个特殊的"),s("code",[t._v(".gitignore")]),t._v("文件，然后把要忽略的文件名填进去，Git就会自动忽略这些文件。")]),t._v(" "),s("p",[t._v("不需要从头写"),s("code",[t._v(".gitignore")]),t._v("文件，GitHub已经为我们准备了各种配置文件，只需要组合一下就可以使用了。所有配置文件可以直接在线浏览：https://github.com/github/gitignore")]),t._v(" "),s("p",[t._v("忽略文件的原则是：")]),t._v(" "),s("ol",[s("li",[t._v("忽略操作系统自动生成的文件，比如缩略图等；")]),t._v(" "),s("li",[t._v("忽略编译生成的中间文件、可执行文件等，也就是如果一个文件是通过另一个文件自动生成的，那自动生成的文件就没必要放进版本库，比如Java编译产生的"),s("code",[t._v(".class")]),t._v("文件；")]),t._v(" "),s("li",[t._v("忽略你自己的带有敏感信息的配置文件，比如存放口令的配置文件。")])]),t._v(" "),s("p",[t._v("举个例子：")]),t._v(" "),s("p",[t._v("假设你在Windows下进行Python开发，Windows会自动在有图片的目录下生成隐藏的缩略图文件，如果有自定义目录，目录下就会有"),s("code",[t._v("Desktop.ini")]),t._v("文件，因此你需要忽略Windows自动生成的垃圾文件：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# Windows:\nThumbs.db\nehthumbs.db\nDesktop.ini\n")])])]),s("p",[t._v("然后，继续忽略Python编译产生的"),s("code",[t._v(".pyc")]),t._v("、"),s("code",[t._v(".pyo")]),t._v("、"),s("code",[t._v("dist")]),t._v("等文件或目录：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# Python:\n*.py[cod]\n*.so\n*.egg\n*.egg-info\ndist\nbuild\n")])])]),s("p",[t._v("加上你自己定义的文件，最终得到一个完整的"),s("code",[t._v(".gitignore")]),t._v("文件，内容如下：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# Windows:\nThumbs.db\nehthumbs.db\nDesktop.ini\n\n# Python:\n*.py[cod]\n*.so\n*.egg\n*.egg-info\ndist\nbuild\n\n# My configurations:\ndb.ini\ndeploy_key_rsa\n")])])]),s("p",[t._v("最后一步就是把"),s("code",[t._v(".gitignore")]),t._v("也提交到Git，就完成了！当然检验"),s("code",[t._v(".gitignore")]),t._v("的标准是"),s("code",[t._v("git status")]),t._v("命令是不是说"),s("code",[t._v("working directory clean")]),t._v("。")]),t._v(" "),s("p",[t._v("使用Windows的童鞋注意了，如果你在资源管理器里新建一个"),s("code",[t._v(".gitignore")]),t._v("文件，它会非常弱智地提示你必须输入文件名，但是在文本编辑器里“保存”或者“另存为”就可以把文件保存为"),s("code",[t._v(".gitignore")]),t._v("了。")]),t._v(" "),s("p",[t._v("有些时候，你想添加一个文件到Git，但发现添加不了，原因是这个文件被"),s("code",[t._v(".gitignore")]),t._v("忽略了：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ git add App.class\nThe following paths are ignored by one of your .gitignore files:\nApp.class\nUse -f if you really want to add them.\n")])])]),s("p",[t._v("如果你确实想添加该文件，可以用"),s("code",[t._v("-f")]),t._v("强制添加到Git：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ git add -f App.class\n")])])]),s("p",[t._v("或者你发现，可能是"),s("code",[t._v(".gitignore")]),t._v("写得有问题，需要找出来到底哪个规则写错了，可以用"),s("code",[t._v("git check-ignore")]),t._v("命令检查：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ git check-ignore -v App.class\n.gitignore:3:*.class\tApp.class\n")])])]),s("p",[t._v("Git会告诉我们，"),s("code",[t._v(".gitignore")]),t._v("的第3行规则忽略了该文件，于是我们就可以知道应该修订哪个规则。")]),t._v(" "),s("h2",{attrs:{id:"小结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("ul",[s("li",[t._v("忽略某些文件时，需要编写"),s("code",[t._v(".gitignore")]),t._v("；")]),t._v(" "),s("li",[s("code",[t._v(".gitignore")]),t._v("文件本身要放到版本库里，并且可以对"),s("code",[t._v(".gitignore")]),t._v("做版本管理！")])])])}),[],!1,null,null,null);e.default=n.exports}}]);