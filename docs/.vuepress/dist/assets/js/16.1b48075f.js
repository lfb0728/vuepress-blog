(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{358:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"git-多人协作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-多人协作"}},[t._v("#")]),t._v(" Git 多人协作")]),t._v(" "),a("p",[t._v("当你从远程仓库克隆时，实际上Git自动把本地的"),a("code",[t._v("master")]),t._v("分支和远程的"),a("code",[t._v("master")]),t._v("分支对应起来了，并且，远程仓库的默认名称是"),a("code",[t._v("origin")]),t._v("。")]),t._v(" "),a("p",[t._v("要查看远程库的信息，用"),a("code",[t._v("git remote")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote\norigin\n")])])]),a("p",[t._v("或者，用"),a("code",[t._v("git remote -v")]),t._v("显示更详细的信息：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote -v\norigin  https://github.com/lfb0728/GitDemo.git "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fetch"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\norigin  https://github.com/lfb0728/GitDemo.git "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("上面显示了可以抓取和推送的"),a("code",[t._v("origin")]),t._v("的地址。如果没有推送权限，就看不到push的地址。")]),t._v(" "),a("h2",{attrs:{id:"推送分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#推送分支"}},[t._v("#")]),t._v(" 推送分支")]),t._v(" "),a("p",[t._v("推送分支，就是把该分支上的所有本地提交推送到远程库。推送时，要指定本地分支，这样，Git就会把该分支推送到远程库对应的远程分支上：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin master\n\nEnumerating objects: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v(", done.\nCounting objects: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v("/25"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\nDelta compression using up to "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v(" threads\nCompressing objects: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v("/23"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\nWriting objects: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v("/23"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.26")]),t._v(" KiB "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("773.00")]),t._v(" KiB/s, done.\nTotal "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", reused "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", pack-reused "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nremote: Resolving deltas: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("/10"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\nTo https://github.com/lfb0728/GitDemo.git\n   fb74ee7"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("a77f6de  master -"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" master\n\n")])])]),a("p",[t._v("如果要推送其他分支，比如"),a("code",[t._v("dev")]),t._v("，就改成：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin dev\n")])])]),a("p",[t._v("但是，并不是一定要把本地分支往远程推送，那么，哪些分支需要推送，哪些不需要呢？")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("master")]),t._v("分支是主分支，因此要时刻与远程同步；")]),t._v(" "),a("li",[a("code",[t._v("dev")]),t._v("分支是开发分支，团队所有成员都需要在上面工作，所以也需要与远程同步；")]),t._v(" "),a("li",[t._v("bug分支只用于在本地修复bug，就没必要推到远程了，除非老板要看看你每周到底修复了几个bug；")]),t._v(" "),a("li",[t._v("feature分支是否推到远程，取决于你是否和你的小伙伴合作在上面开发。")])]),t._v(" "),a("p",[t._v("总之，就是在Git中，分支完全可以在本地自己藏着玩，是否推送，视你的心情而定！")]),t._v(" "),a("h2",{attrs:{id:"抓取分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#抓取分支"}},[t._v("#")]),t._v(" 抓取分支")]),t._v(" "),a("p",[t._v("多人协作时，大家都会往"),a("code",[t._v("master")]),t._v("和"),a("code",[t._v("dev")]),t._v("分支上推送各自的修改。")]),t._v(" "),a("p",[t._v("现在，模拟一个你的小伙伴，可以在另一台电脑（注意要把SSH Key添加到GitHub）或者同一台电脑的另一个目录下克隆：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/lfb0728/GitDemo.git\nCloning into "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'learngit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nremote: Counting objects: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v(", done.\nremote: Compressing objects: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v("/21"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\nremote: Total "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", reused "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", pack-reused "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nReceiving objects: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("40")]),t._v("/40"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\nResolving deltas: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),t._v("/14"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\n")])])]),a("p",[t._v("当你的小伙伴从远程库clone时，默认情况下，你的小伙伴只能看到本地的"),a("code",[t._v("master")]),t._v("分支。不信可以用"),a("code",[t._v("git branch")]),t._v("命令看看：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch\n* master\n")])])]),a("p",[t._v("现在，你的小伙伴要在"),a("code",[t._v("dev")]),t._v("分支上开发，就必须创建远程"),a("code",[t._v("origin")]),t._v("的"),a("code",[t._v("dev")]),t._v("分支到本地，于是他用这个命令创建本地"),a("code",[t._v("dev")]),t._v("分支：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b dev origin/dev\n")])])]),a("p",[t._v("现在，他就可以在"),a("code",[t._v("dev")]),t._v("上继续修改，然后，时不时地把"),a("code",[t._v("dev")]),t._v("分支"),a("code",[t._v("push")]),t._v("到远程：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" env.txt\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"add env"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dev 7a5e5dd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" changed, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" insertion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("+"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n create mode "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" env.txt\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin dev\nCounting objects: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(", done.\nDelta compression using up to "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" threads.\nCompressing objects: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("/2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\nWriting objects: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("/3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("308")]),t._v(" bytes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("308.00")]),t._v(" KiB/s, done.\nTotal "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", reused "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nTo github.com:michaelliao/learngit.git\n   f52c633"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("7a5e5dd  dev -"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" dev\n")])])]),a("p",[t._v("你的小伙伴已经向"),a("code",[t._v("origin/dev")]),t._v("分支推送了他的提交，而碰巧你也对同样的文件作了修改，并试图推送：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" env.txt\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),t._v("\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" env.txt\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"add new env"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dev 7bd91f1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" new "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" changed, "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" insertion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("+"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n create mode "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" env.txt\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin dev\nTo github.com:michaelliao/learngit.git\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("rejected"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("        dev -"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" dev "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("non-fast-forward"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nerror: failed to push some refs to "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git@github.com:michaelliao/learngit.git'")]),t._v("\nhint: Updates were rejected because the tip of your current branch is behind\nhint: its remote counterpart. Integrate the remote changes "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e.g.\nhint: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git pull ...'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" before pushing again.\nhint: See the "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Note about fast-forwards'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git push --help'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" details.\n")])])]),a("p",[t._v("推送失败，因为你的小伙伴的最新提交和你试图推送的提交有冲突，解决办法也很简单，Git已经提示我们，先用"),a("code",[t._v("git pull")]),t._v("把最新的提交从"),a("code",[t._v("origin/dev")]),t._v("抓下来，然后，在本地合并，解决冲突，再推送：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull\nThere is no tracking information "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the current branch.\nPlease specify "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" branch you want to merge with.\nSee git-pull"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" details.\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("remote"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("branch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\nIf you wish to "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" tracking information "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" this branch you can "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" so with:\n\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch --set-upstream-to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("origin/"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("branch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" dev\n")])])]),a("p",[a("code",[t._v("git pull")]),t._v("也失败了，原因是没有指定本地"),a("code",[t._v("dev")]),t._v("分支与远程"),a("code",[t._v("origin/dev")]),t._v("分支的链接，根据提示，设置"),a("code",[t._v("dev")]),t._v("和"),a("code",[t._v("origin/dev")]),t._v("的链接：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch --set-upstream-to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("origin/dev dev\nBranch "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dev'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" up to track remote branch "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dev'")]),t._v(" from "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'origin'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n")])])]),a("p",[t._v("再pull：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull\nAuto-merging env.txt\nCONFLICT "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("add/add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": Merge conflict "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" env.txt\nAutomatic merge failed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" fix conflicts and "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" commit the result.\n")])])]),a("p",[t._v("这回"),a("code",[t._v("git pull")]),t._v("成功，但是合并有冲突，需要手动解决，解决的方法和分支管理中的"),a("a",{attrs:{href:"http://www.liaoxuefeng.com/wiki/896043488029600/900004111093344",target:"_blank",rel:"noopener noreferrer"}},[t._v("解决冲突"),a("OutboundLink")],1),t._v("完全一样。解决后，提交，再push：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fix env conflict"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dev 57c53ab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" fix "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),t._v(" conflict\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin dev\nCounting objects: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(", done.\nDelta compression using up to "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" threads.\nCompressing objects: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("/4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", done.\nWriting objects: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("% "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("/6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("621")]),t._v(" bytes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("621.00")]),t._v(" KiB/s, done.\nTotal "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", reused "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("delta "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nTo github.com:michaelliao/learngit.git\n   7a5e5dd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("57c53ab  dev -"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" dev\n")])])]),a("p",[t._v("因此，多人协作的工作模式通常是这样：")]),t._v(" "),a("ol",[a("li",[t._v("首先，可以试图用"),a("code",[t._v("git push origin <branch-name>")]),t._v("推送自己的修改；")]),t._v(" "),a("li",[t._v("如果推送失败，则因为远程分支比你的本地更新，需要先用"),a("code",[t._v("git pull")]),t._v("试图合并；")]),t._v(" "),a("li",[t._v("如果合并有冲突，则解决冲突，并在本地提交；")]),t._v(" "),a("li",[t._v("没有冲突或者解决掉冲突后，再用"),a("code",[t._v("git push origin <branch-name>")]),t._v("推送就能成功！")])]),t._v(" "),a("p",[t._v("如果"),a("code",[t._v("git pull")]),t._v("提示"),a("code",[t._v("no tracking information")]),t._v("，则说明本地分支和远程分支的链接关系没有创建，用命令"),a("code",[t._v("git branch --set-upstream-to <branch-name> origin/<branch-name>")]),t._v("。")]),t._v(" "),a("p",[t._v("这就是多人协作的工作模式，一旦熟悉了，就非常简单。")]),t._v(" "),a("h2",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("ul",[a("li",[t._v("查看远程库信息，使用"),a("code",[t._v("git remote -v")]),t._v("；")]),t._v(" "),a("li",[t._v("本地新建的分支如果不推送到远程，对其他人就是不可见的；")]),t._v(" "),a("li",[t._v("从本地推送分支，使用"),a("code",[t._v("git push origin branch-name")]),t._v("，如果推送失败，先用"),a("code",[t._v("git pull")]),t._v("抓取远程的新提交；")]),t._v(" "),a("li",[t._v("在本地创建和远程分支对应的分支，使用"),a("code",[t._v("git checkout -b branch-name origin/branch-name")]),t._v("，本地和远程分支的名称最好一致；")]),t._v(" "),a("li",[t._v("建立本地分支和远程分支的关联，使用"),a("code",[t._v("git branch --set-upstream branch-name origin/branch-name")]),t._v("；")]),t._v(" "),a("li",[t._v("从远程抓取分支，使用"),a("code",[t._v("git pull")]),t._v("，如果有冲突，要先处理冲突。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);