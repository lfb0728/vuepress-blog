(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{359:function(t,a,s){"use strict";s.r(a);var e=s(42),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"git-feature分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-feature分支"}},[t._v("#")]),t._v(" Git Feature分支")]),t._v(" "),s("p",[t._v("软件开发中，总有无穷无尽的新的功能要不断添加进来。")]),t._v(" "),s("p",[t._v("添加一个新功能时，你肯定不希望因为一些实验性质的代码，把主分支搞乱了，所以，每添加一个新功能，最好新建一个feature分支，在上面开发，完成后，合并，最后，删除该feature分支。")]),t._v(" "),s("p",[t._v("现在，你终于接到了一个新任务：开发代号为Vulcan的新功能，该功能计划用于下一代星际飞船。")]),t._v(" "),s("p",[t._v("于是准备开发：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" switch -c feature-vulcan\nSwitched to a new branch "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feature-vulcan'")]),t._v("\n")])])]),s("p",[t._v("5分钟后，开发完毕:")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" vulcan.py.txt\n\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" status\nOn branch feature-vulcan\nChanges to be committed:\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("use "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git restore --staged <file>..."')]),t._v(" to unstage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        new file:   vulcan.py.txt\n\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'add feature vulcan'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("feature-vulcan f694ff5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" feature vulcan\n "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" changed, "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" insertions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("+"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" deletions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n create mode "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" vulcan.py.txt\n\n")])])]),s("p",[t._v("切回"),s("code",[t._v("dev")]),t._v("，准备合并：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" switch dev\n")])])]),s("p",[t._v("一切顺利的话，feature分支和bug分支是类似的，合并，然后删除。")]),t._v(" "),s("p",[t._v("但是！")]),t._v(" "),s("p",[t._v("就在此时，接到上级命令，因经费不足，新功能必须取消！")]),t._v(" "),s("p",[t._v("虽然白干了，但是这个包含机密资料的分支还是必须就地销毁：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -d feature-vulcan // 删除分支\nerror: The branch "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'feature-vulcan'")]),t._v(" is not fully merged.\nIf you are sure you want to delete it, run "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git branch -D feature-vulcan'")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n")])])]),s("p",[t._v("销毁失败。Git友情提醒，"),s("code",[t._v("feature-vulcan")]),t._v("分支还没有被合并，如果删除，将丢失掉修改，如果要强行删除，需要使用大写的"),s("code",[t._v("-D")]),t._v("参数。。")]),t._v(" "),s("p",[t._v("现在我们强行删除：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" branch -D feature-vulcan\nDeleted branch feature-vulcan "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("was f694ff5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".\n")])])]),s("p",[t._v("删除成功！")]),t._v(" "),s("h2",{attrs:{id:"小结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),s("p",[t._v("开发一个新feature，最好新建一个分支；")]),t._v(" "),s("p",[t._v("如果要丢弃一个没有被合并过的分支，可以通过"),s("code",[t._v("git branch -D <name>")]),t._v("强行删除。")])])}),[],!1,null,null,null);a.default=n.exports}}]);